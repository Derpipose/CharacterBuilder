@page "/Register"
@using System.Text.RegularExpressions
@using CharacterBuilderShared.Models

@inject NavigationManager NavigationManager

<PageTitle>Registration</PageTitle>

<h1>Welcome in! Please come up with a user name and a four digit pin!</h1>

<form method="post">
    <div>
        <label for="username">Username:</label>
        <input type="text" id="username" name="username" required />
    </div>
    <div>
        <label for="realname">Real Name:</label>
        <input type="text" id="realname" name="realname" required />
    </div>
    <div>
        <label for="pin">4-Digit PIN:</label>
        <input type="text" id="pin" name="pin" pattern="[0-9]{4}" required />
        <small>Enter a 4-digit PIN.</small>
    </div>
    <button type="submit">Submit</button>
</form>

@code {
    private string Username { get; set; } = "";
    private string RealName { get; set; } = "";
    private int Pin { get; set; } = 0;

    // Method to handle form submission
    private async Task HandleSubmit() {

        // Validate form inputs
        if (string.IsNullOrEmpty(Username) || string.IsNullOrEmpty(RealName) || (Pin > 0 || Pin > 9999 || Pin < 1000)) {
            return;
        }

        
        
        
        // Redirect to a success page or do other actions as needed
        NavigationManager.NavigateTo("/SuccessPage");
    }
}